{"version":3,"sources":["comps/Map.jsx","comps/App.jsx","index.jsx"],"names":["Map","map","Leaf","center","this","props","lat","long","zoom","tileLayer","foo","attribution","addTo","iSS","icon","iconUrl","iconSize","myISS","marker","setInterval","latlng","latLng","setLatLng","id","style","height","width","minWidth","textAlign","Component","App","state","velocity","altitude","country","handleIss","bind","handleCountry","fetch","getCountry","status","console","log","json","undefined","countryData","address","setState","setTimeout","response","data","latitude","longitude","toFixed","countrycode","className","ReactDOM","render","document","querySelector"],"mappings":"mSA8CeA,G,MA1Cf,kLACuB,IAAD,OACdC,EAAMC,IAAKD,IAAI,MAAO,CACxBE,OAAQ,CAACC,KAAKC,MAAMC,IAAKF,KAAKC,MAAME,MACpCC,KAAM,IAGRN,IAAKO,UAAU,2DAA4D,CAACC,IAAK,MAAOC,YAAa,4FAA4FC,MAAMX,GAEvM,IAAIY,EAAMX,IAAKY,KAAK,CAClBC,QACE,sFACFC,SAAU,CAAC,IAAK,OAGdC,EAAQf,IAAKgB,OAAO,CAACd,KAAKC,MAAMC,IAAKF,KAAKC,MAAME,MAAO,CACzDO,KAAMD,IACLD,MAAMX,GAETkB,aAAY,WACV,IAAIC,EAASlB,IAAKmB,OAAO,EAAKhB,MAAMC,IAAK,EAAKD,MAAME,MACpDU,EAAMK,UAAUF,KACf,OAtBP,+BA0BI,OACE,6BACE,yBACEG,GAAG,MACHC,MAAO,CACLC,OAAQ,OACRC,MAAO,OACPC,SAAU,QACVC,UAAW,iBAlCvB,GAAyBC,cC+FVC,G,MA7Ff,kDACE,aAAe,IAAD,8BACZ,gBAKFC,MAAQ,CACNzB,IAAK,KACLC,KAAM,KACNyB,SAAU,KACVC,SAAU,KACVC,QAAS,MATT,EAAKC,UAAY,EAAKA,UAAUC,KAAf,gBACjB,EAAKC,cAAgB,EAAKA,cAAcD,KAAnB,gBAHT,EADhB,qMAgB6BE,MAAM,oEAAD,OACwClC,KAAK2B,MAAMzB,IADnD,gBAC8DF,KAAK2B,MAAMxB,KADzE,kCAhBlC,UAmB8B,OAHpBgC,EAhBV,QAmBmBC,OAnBnB,gBAoBMC,QAAQC,IAAI,kCApBlB,uCAsB8BH,EAAWI,OAtBzC,YAwBkCC,KAFxBC,EAtBV,QAwBsBC,QACd1C,KAAK2C,SAAS,CAAEb,QAASW,EAAYC,QAAQZ,UAE7C9B,KAAK2C,SAAS,CAAEb,QAAS,OAG3Bc,YAAW,WACT,EAAKX,kBACJ,KAhCT,kRAqC2BC,MACrB,kDAtCN,cAqCUW,EArCV,gBAwCqBA,EAASN,OAxC9B,OAwCQO,EAxCR,OA0CI9C,KAAK2C,SAAS,CACZzC,IAAK4C,EAAKC,SACV5C,KAAM2C,EAAKE,UACXpB,SAAUkB,EAAKlB,SAASqB,QAAQ,GAChCpB,SAAUiB,EAAKjB,SAASoB,QAAQ,KAIlCL,YAAW,WACT,EAAKb,cACJ,KApDP,gJAuDuB,IAAD,OAClB/B,KAAK+B,YACLa,YAAW,WACT,EAAKX,kBACJ,OA3DP,+BA+DI,IAAIiB,EAAc,GASlB,OAPEA,EADyB,OAAvBlD,KAAK2B,MAAMG,QACC,sDACkB,yBAAvB9B,KAAK2B,MAAMG,QACN,2BAAI9B,KAAK2B,MAAMG,QAAf,KAEA,+CAAqB9B,KAAK2B,MAAMG,QAAhC,KAGO,OAAnB9B,KAAK2B,MAAMzB,KAAoC,OAApBF,KAAK2B,MAAMxB,KACjC,uDAGL,yBAAKgD,UAAU,aACb,qFACA,yBAAKA,UAAU,WACb,6CACA,wCAAcnD,KAAK2B,MAAMzB,IAAzB,KACA,yCAAeF,KAAK2B,MAAMxB,KAA1B,KACA,wCAAcH,KAAK2B,MAAME,SAAzB,QACA,wCAAc7B,KAAK2B,MAAMC,SAAzB,UACCsB,GAEH,kBAAC,EAAD,CAAKC,UAAU,QAAQjD,IAAKF,KAAK2B,MAAMzB,IAAKC,KAAMH,KAAK2B,MAAMxB,YAtFvE,GAAyBsB,cCFzB2B,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,cAAc,Y","file":"static/js/main.f26e5409.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport Leaf from \"leaflet\";\r\nimport \"../styles/Map.css\";\r\n\r\nexport class Map extends Component {\r\n  componentDidMount() {\r\n    let map = Leaf.map(\"map\", {\r\n      center: [this.props.lat, this.props.long],\r\n      zoom: 3\r\n    });\r\n\r\n    Leaf.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png?{foo}', {foo: 'bar', attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'}).addTo(map);\r\n\r\n    let iSS = Leaf.icon({\r\n      iconUrl:\r\n        \"https://upload.wikimedia.org/wikipedia/commons/d/d0/International_Space_Station.svg\",\r\n      iconSize: [100, 100]\r\n    });\r\n\r\n    let myISS = Leaf.marker([this.props.lat, this.props.long], {\r\n      icon: iSS\r\n    }).addTo(map);\r\n\r\n    setInterval(() => {\r\n      let latlng = Leaf.latLng(this.props.lat, this.props.long);\r\n      myISS.setLatLng(latlng);\r\n    }, 1000);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div\r\n          id=\"map\"\r\n          style={{\r\n            height: \"50vh\",\r\n            width: \"50vw\",\r\n            minWidth: \"20rem\",\r\n            textAlign: \"center\"\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Map;\r\n","import React, { Component } from \"react\";\r\nimport Map from \"./Map\";\r\nimport \"../styles/App.css\";\r\n\r\n// Style the app actually\r\n\r\nexport class App extends Component {\r\n  constructor() {\r\n    super();\r\n    this.handleIss = this.handleIss.bind(this);\r\n    this.handleCountry = this.handleCountry.bind(this);\r\n  }\r\n\r\n  state = {\r\n    lat: null,\r\n    long: null,\r\n    velocity: null,\r\n    altitude: null,\r\n    country: null,\r\n  };\r\n\r\n  async handleCountry() {\r\n    const getCountry = await fetch(\r\n      `https://eu1.locationiq.com/v1/reverse.php?key=8a059ce76eacaf&lat=${this.state.lat}&lon=${this.state.long}&addressdetails=1&format=json`\r\n    );\r\n    if (getCountry.status === 404) {\r\n      console.log(\"ISS is above sea, cannot fetch\");\r\n    } else {\r\n      let countryData = await getCountry.json();\r\n\r\n      if (countryData.address !== undefined) {\r\n        this.setState({ country: countryData.address.country });\r\n      } else {\r\n        this.setState({ country: null });\r\n      }\r\n\r\n      setTimeout(() => {\r\n        this.handleCountry();\r\n      }, 10000);\r\n    }\r\n  }\r\n\r\n  async handleIss() {\r\n    const response = await fetch(\r\n      \"https://api.wheretheiss.at/v1/satellites/25544\"\r\n    );\r\n    let data = await response.json();\r\n\r\n    this.setState({\r\n      lat: data.latitude,\r\n      long: data.longitude,\r\n      velocity: data.velocity.toFixed(2),\r\n      altitude: data.altitude.toFixed(2),\r\n      /* country: countryData.countryName */\r\n    });\r\n\r\n    setTimeout(() => {\r\n      this.handleIss();\r\n    }, 5000);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handleIss();\r\n    setTimeout(() => {\r\n      this.handleCountry();\r\n    }, 1000);\r\n  }\r\n\r\n  render() {\r\n    let countrycode = \"\";\r\n    if (this.state.country === null) {\r\n      countrycode = <p>The ISS is above ocean.</p>;\r\n    } else if (this.state.country === \"Fetching Location...\") {\r\n      countrycode = <p>{this.state.country}.</p>;\r\n    } else {\r\n      countrycode = <p>The ISS is above {this.state.country}.</p>;\r\n    }\r\n\r\n    if (this.state.lat === null || this.state.long === null) {\r\n      return <h1>Loading, please wait...</h1>;\r\n    } else {\r\n      return (\r\n        <div className=\"container\">\r\n          <h1>Current position of ISS (International Space Station)</h1>\r\n          <div className=\"details\">\r\n            <h2>ISS Details: </h2>\r\n            <p>Latitude: {this.state.lat} </p>\r\n            <p>Longitude: {this.state.long} </p>\r\n            <p>Altitude: {this.state.altitude} KM </p>\r\n            <p>Velocity: {this.state.velocity} KM/H </p>\r\n            {countrycode}\r\n          </div>\r\n          <Map className=\"myMap\" lat={this.state.lat} long={this.state.long} />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./comps/App\";\r\n\r\nReactDOM.render(<App />, document.querySelector(\"#root\"));\r\n"],"sourceRoot":""}